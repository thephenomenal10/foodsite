<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title>Food Delivery | Manage Mobile Application</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <link rel="icon" type="image/png" href="../img/logo.png" />
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../css/font-awesome.min.css">

    <!-- Ionicons -->


    <script src="https://kit.fontawesome.com/b2208ecd95.js" crossorigin="anonymous"></script>



    <!-- Morris chart -->

    <!-- jvectormap -->

    <!-- Date Picker -->

    <!-- Daterange picker -->


    <!-- Theme style -->
    <link rel="stylesheet" href="../css/adminlte.css">
    <link rel="stylesheet" href="../css/sweetalert.css">



    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,600" rel="stylesheet">
    <link rel="stylesheet" href="../css/custom.css">
    <link rel="stylesheet" href="../css/primary.css">
</head>

<body style="height: 100%; background-color: #f9f9f9;" class="hold-transition sidebar-mini primary">
    <div class="wrapper">
        <!-- Main Header -->
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand 0 navbar-light bg-white border-bottom">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#"><i class="fa fa-bars"></i></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block">
                    <a href="./dashboard.html" class="nav-link">Dashboard</a>
                    <!-- TO DO... -->
                </li>
            </ul>

            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link " href="./carts.html"><i class="fa fa-shopping-cart"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="./notifications.html"><i class="fa fa-bell"></i></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <img src="../img/user0-icon.jpg" class="brand-image mx-2 img-circle elevation-2"
                            alt="User Image">
                        <i class="fa fa fa-angle-down"></i> Michael E. Quinn

                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a href="./profile.html" class="dropdown-item"> <i class="fa fa-user mr-2"></i> My Profile </a>
                        <div class="dropdown-divider"></div>
                        <a href="./profile.html" class="dropdown-item"> <i class="fa fa-user mr-2"></i> Edit Profile </a>
                        <div class="dropdown-divider"></div>
                        <a href="./logout.html" class="dropdown-item"
                            onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                            <i class="fa fa-envelope mr-2"></i> Logout
                        </a>
                        <form id="logout-form" action="./logout.html" method="POST" style="display: none;">
                            <input type="hidden" name="_token" value="2Kk6tcq9Bi5Ly6rhWZYxdXREGe9e2GCmrsz1p3Ea">
                        </form>
                    </div>
                </li>
            </ul>
        </nav>

        <!-- Left side column. contains the logo and sidebar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-light-primary elevation-4">
            <!-- Brand Logo -->
            <a href="./dashboard.html" class="brand-link bg-white">
                <img src="../img/ic_launcher.png" alt="Food Delivery" class="brand-image">
                <span class="brand-text font-weight-light">Food Delivery</span>
            </a>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                        data-accordion="false">
                        <li class="nav-item">
                            <a class="nav-link active" href="./dashboard.html"> <i class="nav-icon fa fa-dashboard"></i>
                                <p>Dashboard</p>
                            </a>
                        </li>

                        <li class="nav-header">App Management</li>

                        <!-- Total Orders -->
                        <li class="nav-item">
                            <a class="nav-link " href="./orders.html"> <i
                                    class="nav-icon fa fa-shopping-basket"></i>
                                <p>All Orders</p>
                            </a>
                        </li>

                        <!-- Total Earnings 
                        <li class="nav-item">
                            <a class="nav-link " href="./earnings.html"> <i class="nav-icon fa fa-money"></i>
                                <p>Total Earnings</p>
                            </a>
                        </li>-->

                        <!-- Total Vendors -->
                        <li class="nav-item">
                            <a class="nav-link " href="./restaurants.html"> <i
                                    class="nav-icon fa fa-cutlery"></i>
                                <p>Total Vendors</p>
                            </a>
                        </li>

                        <!-- Total Users -->
                        <li class="nav-item">
                            <a class="nav-link " href="./users.html"> <i class="nav-icon fa fa-users"></i>
                                <p>Users</p>
                            </a>
                        </li>

                        <!-- Total Payments -->
                        <li class="nav-item">
                            <a class="nav-link " href="./statistics.html"> <i class="nav-icon fas fa-chart-line"></i>
                                <p>All Statistics</p>
                            </a>
                        </li>

                        <!-- Content Moderation -->
                        <li class="nav-item">
                            <a class="nav-link " href="./contentmod.html"> <i class="nav-icon far fa-edit"></i>
                                <p>Content Moderation</p>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>



        <!--  ....................................From here.   main area start................ -->


        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header content-header0">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>Dashboard</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                                <li class="breadcrumb-item active">Dashboard</li>
                            </ol>
                        </div>
                    </div>
                </div><!-- /.container-fluid -->
            </section>

            <div class="content">
                <!-- Small boxes (Stat box) -->
                <div class="row">
                    <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-info">
                            <div class="inner">
                                <h3>53</h3>

                                <p>Total Orders</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-shopping-bag"></i>
                            </div>
                           <!-- <a href="https://multi-restaurants.smartersvision.com/orders" class="small-box-footer">More
                                info <i class="fa fa-arrow-circle-right"></i></a> -->
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-danger">
                            <div class="inner">
                                <h3>$ 1239.22</h3>

                                <p>Total Earnings</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-money"></i>
                            </div>
                            <!--<a href="https://multi-restaurants.smartersvision.com/payments"
                                class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a> -->
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-success">
                            <div class="inner">
                                <h3>7</h3>
                                <p>Total Vendors</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-cutlery"></i>
                            </div>
                            <!--<a href="https://multi-restaurants.smartersvision.com/restaurants"
                                class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>-->
                        </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-warning">
                            <div class="inner">
                                <h3>47</h3>

                                <p>Total Users</p>
                            </div>
                            <div class="icon">
                                <i class="fa fa-group"></i>
                            </div>
                            <!--<a href="https://multi-restaurants.smartersvision.com/users" class="small-box-footer">More
                                info <i class="fa fa-arrow-circle-right"></i></a>-->
                        </div>
                    </div>
                    <!-- ./col -->

                </div>
                <!-- /.row -->

                <div class="row">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header no-border">
                                <div class="d-flex justify-content-between">
                                    <h3 class="card-title">Earnings</h3>
                                    <a href="https://multi-restaurants.smartersvision.com/payments">
                                    </a>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="d-flex">
                                    <p class="d-flex flex-column">
                                        <span class="text-bold text-lg">$ 700.59</span>
                                        <span></span>
                                    </p>
                                    <p class="ml-auto d-flex flex-column text-right">
                                        <span class="text-success"> 53</span></span> <span class="text-muted">Total
                                            Vendors</span>
                                    </p>
                                </div>
                                <!-- /.d-flex -->

                                <div class="position-relative mb-4">
                                    <canvas id="sales-chart" height="200"></canvas>
                                </div>

                                <div class="d-flex flex-row justify-content-end">
                                    <span class="mr-2"> <i class="fa fa-square text-primary"></i> This year </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header no-border">
                                <h3 class="card-title">Restaurants</h3>
                                <div class="card-tools">
                                    <a href="https://multi-restaurants.smartersvision.com/restaurants"
                                        class="btn btn-tool btn-sm"><i class="fa fa-bars"></i> </a>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <table class="table table-striped table-valign-middle">
                                    <thead>
                                        <tr>
                                            <th>Image</th>
                                            <th>Restaurant</th>
                                            <th>Address</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <tr>
                                            <td>
                                                <img class='img-circle img-size-32 mr-2' style='width:50px'
                                                    src='../img/tamal1-icon.jpg' alt='tamal1'>
                                            </td>
                                            <td>Polleria Ricardo Sanchez</td>
                                            <td>

                                            </td>
                                            <td class="text-center">
                                                <a href="https://multi-restaurants.smartersvision.com/restaurants/1/edit"
                                                    class="text-muted"> <i class="fa fa-edit"></i> </a>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <img class='img-circle img-size-32 mr-2' style='width:50px'
                                                    src='../img/restaurant-3597677_1280-icon.jpg'
                                                    alt='restaurant-3597677_1280'>
                                            </td>
                                            <td>The Lonesome Dove</td>
                                            <td>
                                                2911 Corpening Drive South Lyon, MI 48178
                                            </td>
                                            <td class="text-center">
                                                <a href="https://multi-restaurants.smartersvision.com/restaurants/2/edit"
                                                    class="text-muted"> <i class="fa fa-edit"></i> </a>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <img class='img-circle img-size-32 mr-2' style='width:50px'
                                                    src='../img/restaurant-449952_1280-icon.jpg'
                                                    alt='restaurant-449952_1280'>
                                            </td>
                                            <td>Golden Palace</td>
                                            <td>
                                                2572 George Avenue Mobile, AL 36608
                                            </td>
                                            <td class="text-center">
                                                <a href="https://multi-restaurants.smartersvision.com/restaurants/3/edit"
                                                    class="text-muted"> <i class="fa fa-edit"></i> </a>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <img class='img-circle img-size-32 mr-2' style='width:50px'
                                                    src='../img/restaurant-1837150_1920-icon.jpg'
                                                    alt='restaurant-1837150_1920'>
                                            </td>
                                            <td>La Perla Restaurant</td>
                                            <td>
                                                360 Jody Road Chester Heights, PA 19017
                                            </td>
                                            <td class="text-center">
                                                <a href="https://multi-restaurants.smartersvision.com/restaurants/4/edit"
                                                    class="text-muted"> <i class="fa fa-edit"></i> </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Main Footer -->
        <footer class="main-footer 0">
            <div class="float-right d-none d-sm-block">
                <b>Version</b> 2.1.0
            </div>
            <strong>Copyright Â© 2020 <a href="https://multi-restaurants.smartersvision.com">Food Delivery</a>.</strong>
            All rights reserved.
        </footer>

    </div>


    <!-- jQuery -->
    <script src="../js/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->

    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->



    <!-- Bootstrap 4 -->
    <script src="../js/bootstrap.bundle.min.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.2.0/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.2.0/firebase-messaging.js"></script>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="/__/firebase/7.15.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="/__/firebase/7.15.3/firebase-analytics.js"></script>

<!-- Initialize Firebase -->
<script src="/__/firebase/init.js"></script>

















    <script type="text/javascript">
        const messaging = firebase.messaging();
        navigator.serviceWorker.register("https://multi-restaurants.smartersvision.com/firebase/sw-js")
            .then((registration) => {
                messaging.useServiceWorker(registration);
                messaging.requestPermission()
                    .then(function () {
                        console.log('Notification permission granted.');
                        getRegToken();

                    })
                    .catch(function (err) {
                        console.log('Unable to get permission to notify.', err);
                    });
                messaging.onMessage(function (payload) {
                    console.log("Message received. ", payload);
                    notificationTitle = payload.data.title;
                    notificationOptions = {
                        body: payload.data.body,
                        icon: payload.data.icon,
                        image: payload.data.image
                    };
                    var notification = new Notification(notificationTitle, notificationOptions);
                });
            });

        function getRegToken(argument) {
            messaging.getToken().then(function (currentToken) {
                if (currentToken) {
                    saveToken(currentToken);
                    console.log(currentToken);
                } else {
                    console.log('No Instance ID token available. Request permission to generate one.');
                }
            })
                .catch(function (err) {
                    console.log('An error occurred while retrieving token. ', err);
                });
        }


        function saveToken(currentToken) {
            $.ajax({
                type: "POST",
                data: { 'device_token': currentToken, 'api_token': 'PivvPlsQWxPl1bB5KrbKNBuraJit0PrUZekQUgtLyTRuyBq921atFtoR1HuA' },
                url: 'https://multi-restaurants.smartersvision.com/api/users/1',
                success: function (data) {

                },
                error: function (err) {
                    console.log(err);
                }
            });
        }
    </script>

    <!-- Sparkline -->





    <!-- jQuery Knob Chart -->

    <!-- daterangepicker -->


    <!-- datepicker -->

    <!-- Bootstrap WYSIHTML5 -->

    <!-- Slimscroll -->
    <script src="../js/jquery.min.js"></script>
    <script src="../js/sweetalert.min.js"></script>
    <!-- FastClick -->

    <script src="../js/Chart.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../js/adminlte.js"></script>


    <!-- AdminLTE for demo purposes -->
    <script src="../js/demo.js"></script>

    <script src="../js/scripts.js"></script>
    <script type="text/javascript">
        var data = [1000, 2000, 3000, 2500, 2700, 2500, 3000];
        var labels = ['JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];

        function renderChart(chartNode, data, labels) {
            var ticksStyle = {
                fontColor: '#495057',
                fontStyle: 'bold'
            };

            var mode = 'index';
            var intersect = true;
            return new Chart(chartNode, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            backgroundColor: '#007bff',
                            borderColor: '#007bff',
                            data: data
                        }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    tooltips: {
                        mode: mode,
                        intersect: intersect
                    },
                    hover: {
                        mode: mode,
                        intersect: intersect
                    },
                    legend: {
                        display: false
                    },
                    scales: {
                        yAxes: [{
                            // display: false,
                            gridLines: {
                                display: true,
                                lineWidth: '4px',
                                color: 'rgba(0, 0, 0, .2)',
                                zeroLineColor: 'transparent'
                            },
                            ticks: $.extend({
                                beginAtZero: true,

                                // Include a dollar sign in the ticks
                                callback: function (value, index, values) {
                                    if (value >= 1000) {
                                        value /= 1000
                                        value += 'k'
                                    }
                                    return '$' + value
                                }
                            }, ticksStyle)
                        }],
                        xAxes: [{
                            display: true,
                            gridLines: {
                                display: false
                            },
                            ticks: ticksStyle
                        }]
                    }
                }
            })
        }

        $(function () {
            'use strict'

            var $salesChart = $('#sales-chart')
            $.ajax({
                url: "https://multi-restaurants.smartersvision.com/api/payments/byMonth?api_token=PivvPlsQWxPl1bB5KrbKNBuraJit0PrUZekQUgtLyTRuyBq921atFtoR1HuA",
                success: function (result) {
                    $("#loadingMessage").html("");
                    var data = result.data[0];
                    var labels = result.data[1];
                    renderChart($salesChart, data, labels)
                },
                error: function (err) {
                    $("#loadingMessage").html("Error");
                }
            });
            //var salesChart = renderChart($salesChart, data, labels);
        })

    </script>
    
</body>

</html>
